# Kano Help Center

Public documentation and help center for [Kano](https://kano.site), built with [Astro](https://astro.build) and [Starlight](https://starlight.astro.build).

## Development

```bash
pnpm install
pnpm dev
```

Open [http://localhost:4321](http://localhost:4321).

## Build

```bash
pnpm build
```

Output is in `dist/`.

## Deployment

Designed to deploy to **Cloudflare Pages**:

- Build command: `pnpm build`
- Output directory: `dist`
- Use the provided [.github/workflows/deploy.yml](.github/workflows/deploy.yml) with secrets: `CLOUDFLARE_API_TOKEN`, `CLOUDFLARE_ACCOUNT_ID`
- Set `help.kano.site` CNAME to your Cloudflare Pages URL

**Note:** In development (`pnpm dev`) all doc pages work. If the static build only outputs a single page, ensure content is under `src/content/docs/` and `src/content.config.ts` uses Starlight’s `docsLoader()`; see [Astro Content Layer](https://docs.astro.build/en/guides/content-collections/) and Starlight’s content config.

Integration with the main kano.site app: [docs/integration-with-kano-site.md](docs/integration-with-kano-site.md).

Cloudflare Pages build troubleshooting: [docs/cloudflare-pages-deploy.md](docs/cloudflare-pages-deploy.md).

**Kano Agent & internal use:**

- **Kano Agent** 已嵌入說明中心右下角，使用者可即時詢問操作問題；答案來自 RAG（說明中心文件）。
- [docs/rag-and-agent.md](docs/rag-and-agent.md) — RAG 資料來源、chunk 策略、說明中心嵌入、更新流程（ingest API、Vectorize）
- 部署後需建立 Cloudflare Vectorize index 並設定 AI / VECTOR_INDEX 綁定；首次或內容更新後呼叫 `POST /api/ingest`（Bearer token）重建索引。詳見 rag-and-agent.md。
- [docs/internal-qa-mapping.md](docs/internal-qa-mapping.md) — 內訓與客服 QA 對照表

**「編輯此頁」導向 GitHub（避免 404、與 Cloudflare Docs 相同 fork 流程）：**

- [docs/edit-link-github.md](docs/edit-link-github.md) — baseUrl 設定、monorepo 子目錄、環境變數

**內部維護 — 選單／側欄結構：**

- [docs/sidebar-menu-structure.md](docs/sidebar-menu-structure.md) — 選單定義位置、目前結構對照、新增區塊／頁面方式

## Content

- **Root locale (繁體中文)** — `src/content/docs/`
- **English** — `src/content/docs/en/`

Edit content in MDX; sidebar is autogenerated from directory structure.

## Search (Phase 4)

- **Pagefind** is included by default (client-side search).
- For **Algolia DocSearch** (open-source free tier): apply at [docsearch.algolia.com](https://docsearch.algolia.com/), then add `@astrojs/starlight-docsearch` in `astro.config.mjs` (see commented placeholder).

## SEO

- Starlight sets meta title and description from frontmatter (`title`, `description`).
- Sitemap is generated when multiple pages are built; add `@astrojs/sitemap` if needed.

## Links

- [Kano](https://kano.site)
- [Contact support](mailto:support@kano.site)
